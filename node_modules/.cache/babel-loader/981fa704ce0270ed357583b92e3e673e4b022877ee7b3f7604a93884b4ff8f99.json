{"ast":null,"code":"import _objectSpread from\"/workspaces/achiver-admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{db}from\"../firebase\";import{doc,setDoc}from\"firebase/firestore\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddQuizPage=()=>{const[topic,setTopic]=useState(\"\");const[quizClass,setQuizClass]=useState(\"\");const[bulkData,setBulkData]=useState(\"\");const handleBulkSubmit=async()=>{try{if(!quizClass||!topic){alert(\"Please select a class and enter a topic.\");return;}const quizzes=JSON.parse(bulkData);const documentId=\"\".concat(quizClass,\"_\").concat(topic);// Unique document ID\nconst topicRef=doc(db,\"topics\",documentId);const updatedQuizzes=quizzes.map(quiz=>_objectSpread(_objectSpread({},quiz),{},{topic,class:quizClass}));await setDoc(topicRef,{quizzes:updatedQuizzes},{merge:true});alert(\"All quizzes added successfully!\");setBulkData(\"\");}catch(error){alert(\"Error adding quizzes: \"+error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col items-center justify-center bg-gray-100 space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 shadow-lg rounded-lg w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Add New Quiz\"}),/*#__PURE__*/_jsx(\"label\",{className:\"block mb-2\",children:\"Topic\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:topic,onChange:e=>setTopic(e.target.value),className:\"w-full border p-2 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"block mt-4\",children:\"Class\"}),/*#__PURE__*/_jsxs(\"select\",{value:quizClass,onChange:e=>setQuizClass(e.target.value),className:\"w-full border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a class\"}),/*#__PURE__*/_jsx(\"option\",{value:\"VIII\",children:\"VIII\"}),/*#__PURE__*/_jsx(\"option\",{value:\"IX\",children:\"IX\"}),/*#__PURE__*/_jsx(\"option\",{value:\"X\",children:\"X\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XI\",children:\"XI\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XII\",children:\"XII\"}),/*#__PURE__*/_jsx(\"option\",{value:\"UPSC\",children:\"UPSC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SSC\",children:\"SSC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BANKING\",children:\"BANKING\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CLAT\",children:\"CLAT\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CAT\",children:\"CAT\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MAT\",children:\"MAT\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XAT\",children:\"XAT\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CUET\",children:\"CUET\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 shadow-lg rounded-lg w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Bulk Upload Quizzes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:bulkData,onChange:e=>setBulkData(e.target.value),placeholder:\"[{\\\"question\\\": \\\"Sample?\\\", \\\"optionA\\\": \\\"A\\\", \\\"optionB\\\": \\\"B\\\", \\\"optionC\\\": \\\"C\\\", \\\"optionD\\\": \\\"D\\\", \\\"correctAnswer\\\": \\\"A\\\"}]\",className:\"w-full border p-2 rounded\",rows:\"10\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBulkSubmit,className:\"mt-6 bg-green-600 text-white p-2 w-full rounded hover:bg-green-700\",children:\"Upload Bulk Quizzes\"})]})]});};export default AddQuizPage;","map":{"version":3,"names":["React","useState","db","doc","setDoc","jsx","_jsx","jsxs","_jsxs","AddQuizPage","topic","setTopic","quizClass","setQuizClass","bulkData","setBulkData","handleBulkSubmit","alert","quizzes","JSON","parse","documentId","concat","topicRef","updatedQuizzes","map","quiz","_objectSpread","class","merge","error","message","className","children","type","value","onChange","e","target","placeholder","rows","onClick"],"sources":["/workspaces/achiver-admin/src/pages/AddQuizPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { db } from \"../firebase\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\n\r\nconst AddQuizPage = () => {\r\n  const [topic, setTopic] = useState(\"\");\r\n  const [quizClass, setQuizClass] = useState(\"\");\r\n  const [bulkData, setBulkData] = useState(\"\");\r\n\r\n  const handleBulkSubmit = async () => {\r\n    try {\r\n      if (!quizClass || !topic) {\r\n        alert(\"Please select a class and enter a topic.\");\r\n        return;\r\n      }\r\n      const quizzes = JSON.parse(bulkData);\r\n      const documentId = `${quizClass}_${topic}`; // Unique document ID\r\n      const topicRef = doc(db, \"topics\", documentId);\r\n\r\n      const updatedQuizzes = quizzes.map((quiz) => ({\r\n        ...quiz,\r\n        topic,\r\n        class: quizClass,\r\n      }));\r\n\r\n      await setDoc(topicRef, { quizzes: updatedQuizzes }, { merge: true });\r\n      alert(\"All quizzes added successfully!\");\r\n      setBulkData(\"\");\r\n    } catch (error) {\r\n      alert(\"Error adding quizzes: \" + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-100 space-y-8\">\r\n      <div className=\"bg-white p-6 shadow-lg rounded-lg w-full max-w-md\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">Add New Quiz</h2>\r\n        <label className=\"block mb-2\">Topic</label>\r\n        <input\r\n          type=\"text\"\r\n          value={topic}\r\n          onChange={(e) => setTopic(e.target.value)}\r\n          className=\"w-full border p-2 rounded\"\r\n        />\r\n        <label className=\"block mt-4\">Class</label>\r\n        <select\r\n          value={quizClass}\r\n          onChange={(e) => setQuizClass(e.target.value)}\r\n          className=\"w-full border p-2 rounded\"\r\n        >\r\n          <option value=\"\">Select a class</option>\r\n          <option value=\"VIII\">VIII</option>\r\n          <option value=\"IX\">IX</option>\r\n          <option value=\"X\">X</option>\r\n          <option value=\"XI\">XI</option>\r\n          <option value=\"XII\">XII</option>\r\n          <option value=\"UPSC\">UPSC</option>\r\n          <option value=\"SSC\">SSC</option>\r\n          <option value=\"BANKING\">BANKING</option>\r\n          <option value=\"CLAT\">CLAT</option>\r\n          <option value=\"CAT\">CAT</option>\r\n          <option value=\"MAT\">MAT</option>\r\n          <option value=\"XAT\">XAT</option>\r\n          <option value=\"CUET\">CUET</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"bg-white p-6 shadow-lg rounded-lg w-full max-w-md\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">Bulk Upload Quizzes</h2>\r\n        <textarea\r\n          value={bulkData}\r\n          onChange={(e) => setBulkData(e.target.value)}\r\n          placeholder='[{\"question\": \"Sample?\", \"optionA\": \"A\", \"optionB\": \"B\", \"optionC\": \"C\", \"optionD\": \"D\", \"correctAnswer\": \"A\"}]'\r\n          className=\"w-full border p-2 rounded\"\r\n          rows=\"10\"\r\n        />\r\n        <button\r\n          onClick={handleBulkSubmit}\r\n          className=\"mt-6 bg-green-600 text-white p-2 w-full rounded hover:bg-green-700\"\r\n        >\r\n          Upload Bulk Quizzes\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddQuizPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}